(window.webpackJsonp=window.webpackJsonp||[]).push([[32,22],{1177:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_NAMESPACE=void 0;var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();t.getNamespace=f,t.getColor=function(e,t,a){return f(a).getScale(t).getColor(e)},t.getScale=function(e,t){return f(t).getScale(e)};var r,i=a(1178),o=(r=i)&&r.__esModule?r:{default:r},l=a(89);var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=t,this.scales={},this.forcedItems={}}return n(e,[{key:"getScale",value:function(){return function(e){var t=e||(0,l.getDefaultSchemeName)(),a=this.scales[t];if(a)return a;var n=new o.default((0,l.getScheme)(t),this.forcedItems);return this.scales[t]=n,n}}()},{key:"setColor",value:function(){return function(e,t){return this.forcedItems[e]=t,this}}()}]),e}(),s={},c=t.DEFAULT_NAMESPACE="GLOBAL";function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=s[e];if(t)return t;var a=new u(e);return s[e]=a,a}},1178:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();t.cleanValue=i;var r=a(280);function i(e){return String(e).trim().toLowerCase().split(", ").filter(function(e){return!r.TIME_SHIFT_PATTERN.test(e)}).join(", ")}var o=function(){function e(t,a){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.colors=t,this.parentForcedColors=a,this.forcedColors={},this.seen={},this.fn=function(e){return n.getColor(e)}}return n(e,[{key:"getColor",value:function(){return function(e){var t=i(e),a=this.parentForcedColors&&this.parentForcedColors[t];if(a)return a;var n=this.forcedColors[t];if(n)return n;var r=this.seen[t],o=this.colors.length;if(void 0!==r)return this.colors[r%o];var l=Object.keys(this.seen).length;return this.seen[t]=l,this.colors[l%o]}}()},{key:"setColor",value:function(){return function(e,t){return this.forcedColors[e]=t,this}}()},{key:"toFunction",value:function(){return function(){return this.fn}}()}]),e}();t.default=o},1192:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(2652)),r=o(a(2767)),i=o(a(2775));function o(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.default)(r.default,i.default)},1908:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,r=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(a.push(o.value),!t||a.length!==t);n=!0);}catch(e){r=!0,i=e}finally{try{!n&&l.return&&l.return()}finally{if(r)throw i}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=function(e,t){var a=e.formData,l=[].concat(u(t.data.slices.axis1.map(function(e){return[1,e]})),u(t.data.slices.axis2.map(function(e){return[2,e]}))).map(function(e){var t=n(e,2),i=t[0],l=t[1],u=l.form_data.filters||[];u.concat(a.filters),a.extra_filters&&(u=u.concat(a.extra_filters));var s=Object.assign({},l.form_data,{filters:u,time_range:a.time_range}),c=(0,o.getExploreLongUrl)(s,"json");return new Promise(function(e,t){r.default.json(c,function(n,r){if(n)t(n);else{var o=a.prefix_metric_with_slice_name,u=r.data.map(function(e){var t=e.key,a=e.values;return{key:o?l.slice_name+": "+t:t,type:s.viz_type,values:a,yAxis:i}});e(u)}})})});Promise.all(l).then(function(n){var r,o=Object.assign({},t);if(o.data=(r=[]).concat.apply(r,u(n)),a.line_charts.length&&a.line_charts_2.length){var l=1/0,s=-1/0;o.data.forEach(function(e){l=Math.min.apply(Math,[l].concat(u(e.values.map(function(e){return e.x})))),s=Math.max.apply(Math,[s].concat(u(e.values.map(function(e){return e.x}))))}),o.data.forEach(function(e){e.values.push({x:l,y:null}),e.values.push({x:s,y:null})})}(0,i.default)(e,o)})};var r=l(a(55)),i=l(a(1192)),o=a(258);function l(e){return e&&e.__esModule?e:{default:e}}function u(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}},2652:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u;return function(){return function(a,l,u){var s=new o.default(a,l,u);i.default.render(r.default.createElement(e,n({width:a.width(),height:a.height()},t(s))),document.querySelector(a.selector))}}()};var r=l(a(1)),i=l(a(10)),o=l(a(2653));function l(e){return e&&e.__esModule?e:{default:e}}var u=function(){return function(e){return e}}()},2653:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=a(2654),i=(n=r)&&n.__esModule?n:{default:n};var o=function(){return function e(t,a,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.annotationData=t.annotationData,this.datasource=(0,i.default)(t.datasource),this.rawDatasource=t.datasource,this.filters=t.getFilters(),this.formData=(0,i.default)(t.formData),this.onAddFilter=function(){t.addFilter.apply(t,arguments)},this.onError=function(){t.error.apply(t,arguments)},this.payload=a,this.setControlValue=n}}();t.default=o},2654:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=o(a(2663)),r=o(a(2664)),i=o(a(2665));function o(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){if(null==e)return e;if((0,n.default)(e))return(0,i.default)(function(e){return(0,r.default)(e)},e);throw new Error("Cannot convert input that is not a plain object: "+e)}},2657:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}();t.default=function(e){var t=function(t){function a(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);var t=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.setContainerRef=t.setContainerRef.bind(t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,t),n(a,[{key:"componentDidMount",value:function(){return function(){this.execute()}}()},{key:"componentDidUpdate",value:function(){return function(){this.execute()}}()},{key:"componentWillUnmount",value:function(){return function(){this.container=null}}()},{key:"setContainerRef",value:function(){return function(e){this.container=e}}()},{key:"execute",value:function(){return function(){this.container&&e(this.container,this.props)}}()},{key:"render",value:function(){return function(){var e=this.props,t=e.id,a=e.className;return o.default.createElement("div",{id:t,className:a,ref:this.setContainerRef})}}()}]),a}(o.default.Component);e.displayName&&(t.displayName=e.displayName);e.propTypes&&(t.propTypes=e.propTypes);e.defaultProps&&(t.defaultProps=e.defaultProps);return t};var r,i=a(1),o=(r=i)&&r.__esModule?r:{default:r}},2716:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.drawBarValues=function(e,t,a,r){var i=n.default.format(r||".3s"),o=t.length,l=a&&0!==t.length?t[0].values.map(function(e,a){var r=t.map(function(e){return e.values[a]});return n.default.sum(r,function(e){return e.y})}):[],u=e.select("g.nv-barsWrap").append("g");e.selectAll("g.nv-group").filter(function(e,t){return!a||t===o-1}).selectAll("rect").each(function(e,t){var r=n.default.select(this);if(r.attr("class").includes("positive")){var o=r.attr("transform"),s=parseFloat(r.attr("y")),c=parseFloat(r.attr("x")),f=parseFloat(r.attr("width")),d=u.append("text").attr("y",s-5).text(i(a?l[t]:e.y)).attr("transform",o).attr("class","bar-chart-label"),y=d.node().getBBox().width;d.attr("x",c+f/2-y/2)}})},t.generateRichLineTooltipContent=function(e,t){var a="";return a+="<table><thead><tr><td colspan='3'><strong class='x-value'>"+(0,o.formatDateVerbose)(e.value)+"</strong></td></tr></thead><tbody>",e.series.sort(function(e,t){return e.value>=t.value?-1:1}),e.series.forEach(function(e){a+='<tr class="'+(e.highlight?"emph":"")+"\"><td class='legend-color-guide' style=\"opacity: "+(e.highlight?"1":"0.75")+';""><div style="border: 2px solid '+(e.highlight?"black":"transparent")+"; background-color: "+e.color+';"></div></td><td>'+i.default.sanitize(e.key)+"</td><td>"+t(e.value)+"</td></tr>"}),a+="</tbody></table>"},t.generateMultiLineTooltipContent=function(e,t,a){var n=t(e.value),r="";return r+="<table><thead><tr><td colspan='3'><strong class='x-value'>"+n+"</strong></td></tr></thead><tbody>",e.series.forEach(function(e,t){var n=a[t];r+="<tr><td class='legend-color-guide'><div style=\"background-color: "+e.color+";\"></div></td><td class='key'>"+e.key+"</td><td class='value'>"+n(e.value)+"</td></tr>"}),r+="</tbody></table>"},t.generateBubbleTooltipContent=function(e){var t=e.point,a=e.entity,n=e.xField,r=e.yField,i=e.sizeField,o=e.xFormatter,l=e.yFormatter,u=e.sizeFormatter,f="<table>";return f+='<tr><td style="color: '+t.color+';"><strong>'+t[a]+"</strong> ("+t.group+")</td></tr>",f+=c(s(n),o(t.x)),f+=c(s(r),l(t.y)),f+=c(s(i),u(t.size)),f+="</table>"},t.hideTooltips=function(){var e=document.querySelector(".nvtooltip");e&&(e.style.opacity=0)},t.wrapTooltip=function(e,t){var a=e.useInteractiveGuideline&&e.useInteractiveGuideline()?e.interactiveLayer:e,n=a.tooltip.contentGenerator();a.tooltip.contentGenerator(function(e){var a='<div style="max-width: '+.5*t+'px">';return a+=n(e),a+="</div>"})},t.tipFactory=function(e){return(0,r.default)().attr("class","d3-tip").direction("n").offset([-5,0]).html(function(t){if(!t)return"";var a=t[e.titleColumn]&&t[e.titleColumn].length?t[e.titleColumn]+" - "+e.name:e.name,n=Array.isArray(e.descriptionColumns)?e.descriptionColumns.map(function(e){return t[e]}):Object.values(t);return"<div><strong>"+a+"</strong></div><br/><div>"+n.join(", ")+"</div>"})},t.getMaxLabelSize=function(e,t){var a=e.selectAll("."+t+" g.tick text");if(a.length>0){var n=a[0].map(function(e){return e.getComputedTextLength()});return Math.ceil(Math.max.apply(Math,function(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}(n)))}return 0},t.formatLabel=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=function(){return function(e){return t[e]||e}}();return Array.isArray(e)&&e.length?e.map(function(e){return l.TIME_SHIFT_PATTERN.test(e)?e:a(e)}).join(", "):a(e)},t.computeBarChartWidth=function(e,t,a){var r=(t?n.default.max(e,function(e){return e.values.length}):n.default.sum(e,function(e){return e.values.length}))*f;return Math.max(r,a)},t.tryNumify=function(e){var t=Number(e);return Number.isNaN(t)?e:t},t.stringifyTimeRange=function(e){if(e.some(function(e){return void 0===e.toISOString}))return null;return e.map(function(e){return e.toISOString().slice(0,-1)}).join(" : ")},t.setAxisShowMaxMin=function(e,t){e&&e.showMaxMin&&void 0!==t&&e.showMaxMin(t)};var n=u(a(55)),r=u(a(2749)),i=u(a(799)),o=a(79),l=a(280);function u(e){return e&&e.__esModule?e:{default:e}}function s(e){return e.label||e}function c(e,t){return"<tr><td>"+e+"</td><td>"+t+"</td></tr>"}var f=15},2767:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(2657)),r=i(a(2768));function i(e){return e&&e.__esModule?e:{default:e}}t.default=(0,n.default)(r.default)},2768:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=b(a(795)),r=b(a(55)),i=b(a(2769)),o=b(a(1185)),l=b(a(8)),u=b(a(0));a(2770);var s=a(12),c=a(672),f=b(c),d=a(1177),y=a(79),h=a(70),m=a(280),p=a(2716),v=a(2772);function b(e){return e&&e.__esModule?e:{default:e}}function x(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function g(e){if(Array.isArray(e)){for(var t=0,a=Array(e.length);t<e.length;t++)a[t]=e[t];return a}return Array.from(e)}a(2773);var w=30,A=1e3,T=480,k={small:340},_=["line","dual_line","line_multi","area","compare","bar","time_pivot"],M={data:u.default.oneOfType([u.default.arrayOf(u.default.oneOfType([v.categoryAndValueXYType,u.default.shape({key:u.default.string,values:u.default.arrayOf(v.categoryAndValueXYType)}),u.default.shape({key:u.default.arrayOf(u.default.string),values:u.default.arrayOf(v.numericXYType)}),u.default.shape({classed:u.default.string,key:u.default.string,type:u.default.string,values:u.default.arrayOf(v.numericXYType),yAxis:u.default.number}),u.default.shape({label:u.default.string,values:u.default.arrayOf(v.boxPlotValueType)}),u.default.shape({key:u.default.string,values:u.default.arrayOf(u.default.object)})])),v.bulletDataType]),width:u.default.number,height:u.default.number,annotationData:u.default.object,annotationLayers:u.default.arrayOf(v.annotationLayerType),bottomMargin:v.numberOrAutoType,colorScheme:u.default.string,comparisonType:u.default.string,contribution:u.default.bool,leftMargin:v.numberOrAutoType,onError:u.default.func,showLegend:u.default.bool,showMarkers:u.default.bool,useRichTooltip:u.default.bool,vizType:u.default.oneOf(["area","bar","box_plot","bubble","bullet","compare","column","dist_bar","line","line_multi","time_pivot","pie","dual_line"]),xAxisFormat:u.default.string,xAxisLabel:u.default.string,xAxisShowMinMax:u.default.bool,xIsLogScale:u.default.bool,xTicksLayout:u.default.oneOf(["auto","staggered","45째"]),yAxisFormat:u.default.string,yAxisBounds:u.default.arrayOf(u.default.number),yAxisLabel:u.default.string,yAxisShowMinMax:u.default.bool,yIsLogScale:u.default.bool,orderBars:u.default.bool,isBarStacked:u.default.bool,showBarValue:u.default.bool,reduceXTicks:u.default.bool,showControls:u.default.bool,showBrush:u.default.oneOf([!0,!1,"auto"]),onBrushEnd:u.default.func,yAxis2Format:u.default.string,lineInterpolation:u.default.string,isDonut:u.default.bool,isPieLabelOutside:u.default.bool,pieLabelType:u.default.oneOf(["key","value","percent","key_value","key_percent"]),showLabels:u.default.bool,areaStackedStyle:u.default.string,entity:u.default.string,maxBubbleSize:u.default.number,xField:v.stringOrObjectWithLabelType,yField:v.stringOrObjectWithLabelType,sizeField:v.stringOrObjectWithLabelType,baseColor:v.rgbObjectType},L=function(){return function(){}}(),O=r.default.format(".3s");function C(e,t){var a=t.data,u=t.width,v=t.height,b=t.annotationData,M=t.annotationLayers,C=void 0===M?[]:M,S=t.areaStackedStyle,F=t.baseColor,E=t.bottomMargin,j=t.colorScheme,D=t.comparisonType,P=t.contribution,B=t.entity,N=t.isBarStacked,I=t.isDonut,z=t.isPieLabelOutside,R=t.leftMargin,V=t.lineInterpolation,W=void 0===V?"linear":V,X=t.maxBubbleSize,Y=t.onBrushEnd,G=void 0===Y?L:Y,q=t.onError,U=void 0===q?L:q,H=t.orderBars,Q=t.pieLabelType,J=t.reduceXTicks,K=void 0!==J&&J,Z=t.showBarValue,$=t.showBrush,ee=t.showControls,te=t.showLabels,ae=t.showLegend,ne=t.showMarkers,re=t.sizeField,ie=t.useRichTooltip,oe=t.vizType,le=t.xAxisFormat,ue=t.xAxisLabel,se=t.xAxisShowMinMax,ce=void 0!==se&&se,fe=t.xField,de=t.xIsLogScale,ye=t.xTicksLayout,he=t.yAxisFormat,me=t.yAxis2Format,pe=t.yAxisBounds,ve=t.yAxisLabel,be=t.yAxisShowMinMax,xe=void 0!==be&&be,ge=t.yField,we=t.yIsLogScale,Ae=null!==document.querySelector("#explorer-container"),Te=e;Te.innerHTML="";var ke=void 0,_e=u,Me="key";function Le(e){return e.indexOf(oe)>=0}var Oe=function(){return function(){var t=r.default.select(e),M=t.select("svg");M.empty()&&(M=t.append("svg"));var V="bullet"===oe?Math.min(v,50):v,Y=Le(_),q="staggered"===ye,J="auto"===ye&&Le(["column","dist_bar"])||"45째"===ye?45:0;if(45===J&&(0,m.isTruthy)($))return U((0,s.t)("You cannot use 45째 tick layout along with the time range filter")),null;var se=(0,m.isTruthy)($)||"auto"===$&&v>=T&&"45째"!==ye;switch(oe){case"line":se?(ke=i.default.models.lineWithFocusChart(),q&&(ke.focus.margin({bottom:40}),ke.focusHeight(80)),ke.focus.xScale(r.default.time.scale.utc())):ke=i.default.models.lineChart(),ke.xScale(r.default.time.scale.utc()),ke.interpolate(W);break;case"time_pivot":(ke=i.default.models.lineChart()).xScale(r.default.time.scale.utc()),ke.interpolate(W);break;case"dual_line":case"line_multi":(ke=i.default.models.multiChart()).interpolate(W);break;case"bar":ke=i.default.models.multiBarChart().showControls(ee).groupSpacing(.1),Z&&setTimeout(function(){(0,p.drawBarValues)(M,a,N,he)},A),K||(_e=(0,p.computeBarChartWidth)(a,N,u)),ke.width(_e),ke.xAxis.showMaxMin(!1),ke.stacked(N);break;case"dist_bar":(ke=i.default.models.multiBarChart().showControls(ee).reduceXTicks(K).groupSpacing(.1)).xAxis.showMaxMin(!1),ke.stacked(N),H&&a.forEach(function(e){e.values.sort(function(e,t){return(0,p.tryNumify)(e.x)<(0,p.tryNumify)(t.x)?-1:1})}),Z&&setTimeout(function(){(0,p.drawBarValues)(M,a,N,he)},A),K||(_e=(0,p.computeBarChartWidth)(a,N,u)),ke.width(_e);break;case"pie":if(ke=i.default.models.pieChart(),Me="x",ke.valueFormat(O),I&&ke.donut(!0),ke.showLabels(te),ke.labelsOutside(z),ke.labelThreshold(.05),ke.cornerRadius(!0),"key_percent"!==Q&&"key_value"!==Q?ke.labelType(Q):"key_value"===Q&&ke.labelType(function(e){return e.data.x+": "+r.default.format(".3s")(e.data.y)}),"percent"===Q||"key_percent"===Q){var be=r.default.sum(a,function(e){return e.y});ke.tooltip.valueFormatter(function(e){return(e/be*100).toFixed()+"%"}),"key_percent"===Q&&ke.labelType(function(e){return e.data.x+": "+(e.data.y/be*100).toFixed()+"%"})}break;case"column":ke=i.default.models.multiBarChart().reduceXTicks(!1);break;case"compare":(ke=i.default.models.cumulativeLineChart()).xScale(r.default.time.scale.utc()),ke.useInteractiveGuideline(!0),ke.xAxis.showMaxMin(!1);break;case"bubble":(ke=i.default.models.scatterChart()).showDistX(!0),ke.showDistY(!0),ke.tooltip.contentGenerator(function(e){return(0,p.generateBubbleTooltipContent)({point:e.point,entity:B,xField:fe,yField:ge,sizeField:re,xFormatter:(0,h.d3FormatPreset)(le),yFormatter:(0,h.d3FormatPreset)(he),sizeFormatter:O})}),ke.pointRange([5,Math.pow(X,2)]),ke.pointDomain([0,r.default.max(a,function(e){return r.default.max(e.values,function(e){return e.size})})]);break;case"area":(ke=i.default.models.stackedAreaChart()).showControls(ee),ke.style(S),ke.xScale(r.default.time.scale.utc());break;case"box_plot":Me="label",(ke=i.default.models.boxPlotChart()).x(function(e){return e.label}),ke.maxBoxWidth(75);break;case"bullet":ke=i.default.models.bulletChart();break;default:throw new Error("Unrecognized visualization for nvd3"+oe)}se&&G!==L&&ke.focus.dispatch.on("brush",function(e){var t=(0,p.stringifyTimeRange)(e.extent);t&&e.brush.on("brushend",function(){G(t)})}),ke.xAxis&&ke.xAxis.staggerLabels&&ke.xAxis.staggerLabels(q),ke.xAxis&&ke.xAxis.rotateLabels&&ke.xAxis.rotateLabels(J),ke.x2Axis&&ke.x2Axis.staggerLabels&&ke.x2Axis.staggerLabels(q),ke.x2Axis&&ke.x2Axis.rotateLabels&&ke.x2Axis.rotateLabels(J),"showLegend"in ke&&void 0!==ae&&(_e<k.small&&"pie"!==oe?ke.showLegend(!1):ke.showLegend(ae)),ke.forceY&&pe&&(null!==pe[0]||null!==pe[1])&&ke.forceY(pe),we&&ke.yScale(r.default.scale.log()),de&&ke.xScale(r.default.scale.log());var Oe=(0,h.d3FormatPreset)(le);Y&&(Oe=(0,h.d3TimeFormatPreset)(le),ke.interactiveLayer.tooltip.headerFormatter(y.formatDateVerbose)),ke.x2Axis&&ke.x2Axis.tickFormat&&ke.x2Axis.tickFormat(Oe),!Le(["dist_bar","box_plot"])&&ke.xAxis&&ke.xAxis.tickFormat&&ke.xAxis.tickFormat(Oe);var Ce=(0,h.d3FormatPreset)(he);if(ke.yAxis&&ke.yAxis.tickFormat&&((P||"percentage"===D)&&(Ce=r.default.format(".1%")),ke.yAxis.tickFormat(Ce)),ke.y2Axis&&ke.y2Axis.tickFormat&&ke.y2Axis.tickFormat(Ce),ke.yAxis&&ke.yAxis.ticks(5),ke.y2Axis&&ke.y2Axis.ticks(5),(0,p.setAxisShowMaxMin)(ke.xAxis,ce),(0,p.setAxisShowMaxMin)(ke.x2Axis,ce),(0,p.setAxisShowMaxMin)(ke.yAxis,xe),(0,p.setAxisShowMaxMin)(ke.y2Axis,xe),"time_pivot"===oe){if(F){var Se=F.r,Fe=F.g,Ee=F.b;ke.color(function(e){var t=e.rank>0?.5*e.perc:1;return"rgba("+Se+", "+Fe+", "+Ee+", "+t+")"})}}else if("bullet"!==oe){var je=(0,d.getScale)(j).toFunction();ke.color(function(e){return e.color||je(e[Me])})}if(Le(["line","area"])&&ie&&(ke.useInteractiveGuideline(!0),"line"===oe&&ke.interactiveLayer.tooltip.contentGenerator(function(e){return(0,p.generateRichLineTooltipContent)(e,Ce)})),Le(["dual_line","line_multi"])){var De=r.default.format(he),Pe=r.default.format(me);ke.yAxis1.tickFormat(De),ke.yAxis2.tickFormat(Pe);var Be=a.map(function(e){return 1===e.yAxis?De:Pe});ke.useInteractiveGuideline(!0),ke.interactiveLayer.tooltip.contentGenerator(function(e){return(0,p.generateMultiLineTooltipContent)(e,Oe,Be)}),"dual_line"===oe?ke.showLegend(_e>k.small):ke.showLegend(ae)}if(ke.width(_e),ke.height(V),Te.style.height=V+"px",M.datum(a).transition().duration(500).attr("height",V).attr("width",_e).call(ke),Le(["dual_line","line_multi"])){var Ne=ke.yAxis1.ticks(),Ie=ke.yAxis1.scale().domain(ke.yAxis1.domain()).nice(Ne).ticks(Ne),ze=ke.yAxis2.scale().domain(ke.yAxis2.domain()).nice(Ne).ticks(Ne),Re=Ie.length-ze.length;if(Ie.length&&ze.length&&0!==Re){for(var Ve=Re<0?Ie:ze,We=Ve[1]-Ve[0],Xe=0;Xe<Math.abs(Re);Xe++)Xe%2==0?Ve.unshift(Ve[0]-We):Ve.push(Ve[Ve.length-1]+We);ke.yDomain1([Ie[0],Ie[Ie.length-1]]),ke.yDomain2([ze[0],ze[ze.length-1]]),ke.yAxis1.tickValues(Ie),ke.yAxis2.tickValues(ze)}}if(ne&&M.selectAll(".nv-point").style("stroke-opacity",1).style("fill-opacity",1),void 0!==ke.yAxis||void 0!==ke.yAxis2){var Ye=Math.ceil(Math.min(u*(Ae?.01:.03),w)),Ge=(0,p.getMaxLabelSize)(M,ke.yAxis2?"nv-y1":"nv-y"),qe=(0,p.getMaxLabelSize)(M,"nv-x");ke.margin({left:Ge+Ye}),ve&&""!==ve&&ke.margin({left:Ge+Ye+25});var Ue=ke.margin();if(Ue.bottom=28,ce&&(Ue.right=Math.max(20,qe/2)+Ye),45===J?(Ue.bottom=qe+Ye,Ue.right=qe+Ye):q&&(Ue.bottom=40),Le(["dual_line","line_multi"])){var He=(0,p.getMaxLabelSize)(M,"nv-y2");Ue.right=He+Ye}if(E&&"auto"!==E&&(Ue.bottom=parseInt(E,10)),R&&"auto"!==R&&(Ue.left=R),ue&&""!==ue&&ke.xAxis){Ue.bottom+=25;var Qe=0;Ue.bottom&&!Number.isNaN(Ue.bottom)&&(Qe=Ue.bottom-45),ke.xAxis.axisLabel(ue).axisLabelDistance(Qe)}if(ve&&""!==ve&&ke.yAxis){var Je=0;Ue.left&&!Number.isNaN(Ue.left)&&(Je=Ue.left-70),ke.yAxis.axisLabel(ve).axisLabelDistance(Je)}if(Y&&b&&C.length>0){var Ke=C.filter(function(e){return e.show}).filter(function(e){return e.annotationType===f.default.TIME_SERIES}).reduce(function(e,t){return e.concat((b[t.name]||[]).map(function(e){if(!e)return{};var a=Array.isArray(e.key)?t.name+", "+e.key.join(", "):t.name+", "+e.key;return Object.assign({},e,{key:a,color:t.color,strokeWidth:t.width,classed:t.opacity+" "+t.style+" nv-timeseries-annotation-layer showMarkers"+t.showMarkers+" hideLine"+t.hideLine})}))},[]);a.push.apply(a,g(Ke))}if(M.datum(a).transition().duration(500).attr("width",_e).attr("height",V).call(ke),window.addEventListener("scroll",(0,n.default)(p.hideTooltips,250)),Y&&C.length>0){var Ze=C.filter(function(e){return e.annotationType===f.default.FORMULA}).map(function(e){return Object.assign({},e,{formula:o.default.parse(e.value)})}),$e=void 0,et=void 0,tt=void 0;if("bar"===oe?(et=r.default.min(a[0].values,function(e){return e.x}),$e=r.default.max(a[0].values,function(e){return e.x}),tt=r.default.scale.quantile().domain([et,$e]).range(ke.xAxis.range())):(et=ke.xAxis.scale().domain()[0].valueOf(),$e=ke.xAxis.scale().domain()[1].valueOf(),tt=ke.xScale?ke.xScale():ke.xAxis.scale?ke.xAxis.scale():r.default.scale.linear()),tt&&tt.clamp&&tt.clamp(!0),Ze.length>0){var at=[];if("bar"===oe){var nt=a.reduce(function(e,t){return t.values.forEach(function(t){return e.add(t.x)}),e},new Set);at.push.apply(at,g(nt.values())),at.sort()}else{var rt=Math.min.apply(Math,g(a.map(function(e){return Math.min.apply(Math,g(e.values.slice(1).map(function(t,a){return t.x-e.values[a].x})))}))),it=($e-et)/(rt||1);rt=it<100?($e-et)/100:rt,rt=it>500?($e-et)/500:rt,at.push(et);for(var ot=et;ot<$e;ot+=rt)at.push(ot);at.push($e)}var lt=Ze.map(function(e){return{key:e.name,values:at.map(function(t){return{y:e.formula.eval({x:t}),x:t}}),color:e.color,strokeWidth:e.width,classed:e.opacity+" "+e.style}});a.push.apply(a,g(lt))}var ut=ke.xAxis1?ke.xAxis1:ke.xAxis,st=ke.yAxis1?ke.yAxis1:ke.yAxis,ct=ut.scale().range()[1],ft=st.scale().range()[0];b&&(C.filter(function(e){return e.annotationType===f.default.EVENT&&b&&b[e.name]}).forEach(function(t,a){var n=(0,c.applyNativeColumns)(t),i=r.default.select(e).select(".nv-wrap").append("g").attr("class","nv-event-annotation-layer-"+a),o=n.color||(0,d.getColor)(n.name,j),u=(0,p.tipFactory)(n),s=(b[n.name].records||[]).map(function(e){var t=new Date(l.default.utc(e[n.timeColumn]));return Object.assign({},e,x({},n.timeColumn,t))}).filter(function(e){return!Number.isNaN(e[n.timeColumn].getMilliseconds())});s.length&&i.selectAll("line").data(s).enter().append("line").attr({x1:function(e){return tt(new Date(e[n.timeColumn]))},y1:0,x2:function(e){return tt(new Date(e[n.timeColumn]))},y2:ft}).attr("class",n.opacity+" "+n.style).style("stroke",o).style("stroke-width",n.width).on("mouseover",u.show).on("mouseout",u.hide).call(u),ke.focus.dispatch.on("onBrush.event-annotation",function(){i.selectAll("line").data(s).attr({x1:function(e){return tt(new Date(e[n.timeColumn]))},y1:0,x2:function(e){return tt(new Date(e[n.timeColumn]))},y2:ft,opacity:function(e){var t=tt(new Date(e[n.timeColumn]));return t>0&&t<ct?1:0}})})}),C.filter(function(e){return e.annotationType===f.default.INTERVAL&&b&&b[e.name]}).forEach(function(t,a){var n=(0,c.applyNativeColumns)(t),i=r.default.select(e).select(".nv-wrap").append("g").attr("class","nv-interval-annotation-layer-"+a),o=n.color||(0,d.getColor)(n.name,j),u=(0,p.tipFactory)(n),s=(b[n.name].records||[]).map(function(e){var t,a=new Date(l.default.utc(e[n.timeColumn])),r=new Date(l.default.utc(e[n.intervalEndColumn]));return Object.assign({},e,(x(t={},n.timeColumn,a),x(t,n.intervalEndColumn,r),t))}).filter(function(e){return!Number.isNaN(e[n.timeColumn].getMilliseconds())&&!Number.isNaN(e[n.intervalEndColumn].getMilliseconds())});s.length&&i.selectAll("rect").data(s).enter().append("rect").attr({x:function(e){return Math.min(tt(new Date(e[n.timeColumn])),tt(new Date(e[n.intervalEndColumn])))},y:0,width:function(e){return Math.max(Math.abs(tt(new Date(e[n.intervalEndColumn]))-tt(new Date(e[n.timeColumn]))),1)},height:ft}).attr("class",n.opacity+" "+n.style).style("stroke-width",n.width).style("stroke",o).style("fill",o).style("fill-opacity",.2).on("mouseover",u.show).on("mouseout",u.hide).call(u),ke.focus.dispatch.on("onBrush.interval-annotation",function(){i.selectAll("rect").data(s).attr({x:function(e){return tt(new Date(e[n.timeColumn]))},width:function(e){var t=tt(new Date(e[n.timeColumn]));return tt(new Date(e[n.intervalEndColumn]))-t}})})})),M.datum(a).attr("height",V).attr("width",_e).call(ke),r.default.selectAll(".slice_container .nv-timeseries-annotation-layer.showMarkerstrue .nv-point").style("stroke-opacity",1).style("fill-opacity",1),r.default.selectAll(".slice_container .nv-timeseries-annotation-layer.hideLinetrue").style("stroke-width",0)}}return(0,p.wrapTooltip)(ke,u),ke}}();(0,p.hideTooltips)(),i.default.addGraph(Oe)}C.displayName="NVD3",C.propTypes=M,t.default=C},2770:function(e,t,a){},2772:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.annotationLayerType=t.bulletDataType=t.boxPlotValueType=t.categoryAndValueXYType=t.numericXYType=t.rgbObjectType=t.stringOrObjectWithLabelType=t.numberOrAutoType=void 0;var n,r=a(0),i=(n=r)&&n.__esModule?n:{default:n},o=a(672);t.numberOrAutoType=i.default.oneOfType([i.default.number,i.default.oneOf(["auto"])]),t.stringOrObjectWithLabelType=i.default.oneOfType([i.default.string,i.default.shape({label:i.default.string})]),t.rgbObjectType=i.default.shape({r:i.default.number.isRequired,g:i.default.number.isRequired,b:i.default.number.isRequired}),t.numericXYType=i.default.shape({x:i.default.number,y:i.default.number}),t.categoryAndValueXYType=i.default.shape({x:i.default.string,y:i.default.number}),t.boxPlotValueType=i.default.shape({Q1:i.default.number,Q2:i.default.number,Q3:i.default.number,outliers:i.default.arrayOf(i.default.number),whisker_high:i.default.number,whisker_low:i.default.number}),t.bulletDataType=i.default.shape({markerLabels:i.default.arrayOf(i.default.string),markerLineLabels:i.default.arrayOf(i.default.string),markerLines:i.default.arrayOf(i.default.number),markers:i.default.arrayOf(i.default.number),measures:i.default.arrayOf(i.default.number),rangeLabels:i.default.arrayOf(i.default.string),ranges:i.default.arrayOf(i.default.number)}),t.annotationLayerType=i.default.shape({annotationType:i.default.oneOf(Object.keys(o.ANNOTATION_TYPES)),color:i.default.string,name:i.default.string,hideLine:i.default.bool,opacity:i.default.string,show:i.default.bool,showMarkers:i.default.bool,sourceType:i.default.string,style:i.default.string,value:i.default.string,width:i.default.number})},2773:function(e,t,a){},2775:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.annotationData,a=e.datasource,i=e.formData,o=e.onError,l=e.onAddFilter,u=e.payload,s=i.annotationLayers,c=i.barStacked,f=i.bottomMargin,d=i.colorPicker,y=i.colorScheme,h=i.comparisonType,m=i.contribution,p=i.donut,v=i.entity,b=i.labelsOutside,x=i.leftMargin,g=i.lineInterpolation,w=i.maxBubbleSize,A=i.orderBars,T=i.pieLabelType,k=i.reduceXTicks,_=i.richTooltip,M=i.sendTimeRange,L=i.showBarValue,O=i.showBrush,C=i.showControls,S=i.showLabels,F=i.showLegend,E=i.showMarkers,j=i.size,D=i.stackedStyle,P=i.vizType,B=i.x,N=i.xAxisFormat,I=i.xAxisLabel,z=i.xAxisShowminmax,R=i.xLogScale,V=i.xTicksLayout,W=i.y,X=i.yAxisFormat,Y=i.yAxis2Format,G=i.yAxisBounds,q=i.yAxisLabel,U=i.yAxisShowminmax,H=i.yLogScale,Q=u.data||[];return{data:Array.isArray(Q)?Q.map(function(e){return Object.assign({},e,{key:(0,r.formatLabel)(e.key,a.verbose_map)})}):Q,annotationData:t,annotationLayers:s,areaStackedStyle:D,baseColor:d,bottomMargin:f,colorScheme:y,comparisonType:h,contribution:m,entity:v,isBarStacked:c,isDonut:p,isPieLabelOutside:b,leftMargin:x,lineInterpolation:g,maxBubbleSize:parseInt(w,10),onBrushEnd:(0,n.isTruthy)(M)?function(e){l("__time_range",e,!1,!0)}:void 0,onError:o,orderBars:A,pieLabelType:T,reduceXTicks:k,showBarValue:L,showBrush:O,showControls:C,showLabels:S,showLegend:F,showMarkers:E,sizeField:j,useRichTooltip:_,vizType:P,xAxisFormat:N,xAxisLabel:I,xAxisShowMinMax:z,xField:B,xIsLogScale:R,xTicksLayout:V,yAxisFormat:X,yAxis2Format:Y,yAxisBounds:G,yAxisLabel:q,yAxisShowMinMax:U,yField:W,yIsLogScale:H}};var n=a(280),r=a(2716)},795:function(e,t,a){var n=a(796),r=a(248),i="Expected a function";e.exports=function(e,t,a){var o=!0,l=!0;if("function"!=typeof e)throw new TypeError(i);return r(a)&&(o="leading"in a?!!a.leading:o,l="trailing"in a?!!a.trailing:l),n(e,t,{leading:o,maxWait:t,trailing:l})}},796:function(e,t,a){var n=a(248),r=a(797),i=a(798),o="Expected a function",l=Math.max,u=Math.min;e.exports=function(e,t,a){var s,c,f,d,y,h,m=0,p=!1,v=!1,b=!0;if("function"!=typeof e)throw new TypeError(o);function x(t){var a=s,n=c;return s=c=void 0,m=t,d=e.apply(n,a)}function g(e){var a=e-h;return void 0===h||a>=t||a<0||v&&e-m>=f}function w(){var e=r();if(g(e))return A(e);y=setTimeout(w,function(e){var a=t-(e-h);return v?u(a,f-(e-m)):a}(e))}function A(e){return y=void 0,b&&s?x(e):(s=c=void 0,d)}function T(){var e=r(),a=g(e);if(s=arguments,c=this,h=e,a){if(void 0===y)return function(e){return m=e,y=setTimeout(w,t),p?x(e):d}(h);if(v)return y=setTimeout(w,t),x(h)}return void 0===y&&(y=setTimeout(w,t)),d}return t=i(t)||0,n(a)&&(p=!!a.leading,f=(v="maxWait"in a)?l(i(a.maxWait)||0,t):f,b="trailing"in a?!!a.trailing:b),T.cancel=function(){void 0!==y&&clearTimeout(y),m=0,s=h=c=y=void 0},T.flush=function(){return void 0===y?d:A(r())},T}},797:function(e,t,a){var n=a(46);e.exports=function(){return n.Date.now()}}}]);